---
tags:
  - module/analysisappdev
---

# Eigenschaften Rohdaten

Zwei *parquet*-Dateien, "Auftragsdaten" 71,7 MB, "Positionsdaten" 416 MB.
Die Überführung der komprimierten Daten in Pandas-Dataframes ergibt Daten mit den folgend beschriebenen Eigenschaften.
## Auftragsdaten.parquet

Zeilen: 868489
Spalten: 19

Zweck: Vermutlich ein Sammeldatensatz für alle eingegangenen und zu prüfenden Versicherungsforderungen. Enthält grobe Informationen über Aufträge (z.B. interne IDs, betroffene Versicherungen, Schadensfallbeschreibungen, Kundendaten).

| Spaltenname                  | dtype   | Anzahl unique values | Beschreibung (Syntax)                                                                                                                                                                      | Beschreibung (Semantik)                                                             | Anomalien                                                                                                                                                            |
| ---------------------------- | ------- | -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Auftrags_ID                  | object  | 691084               | - 32-char ID, 36-char mit Trennzeichen "-" <br>- Tupel 1: 8 chars<br>- Tupel 2: 4 chars<br>- Tupel 3: 4 chars <br>- Tupel 4: 4 chars (letzten 3 Values sind selten)<br>- Tupel 5: 12 chars | Trailing 20 chars in 32 Ausführungen                                                | - Tupel 3: 4 uniques<br>- Tupel 4: seltensten 3 Uniques sehr selten<br>- Tupel 5: ca. 4000x Ausnahmewerte (inhaltlich), sonst identisch                              |
| Schadensnummer               | object  | 579566               | divers, alphanumerisch                                                                                                                                                                     | wahrscheinlich externe IDs                                                          | Textdaten hinter einigen Einträgen                                                                                                                                   |
| KvaRechnung_ID               | object  | 868489               | - 32-char ID, 36-char mit Trennzeichen "-"<br>- Tupel 1: 8 chars<br>- Tupel 2: 4 chars<br>- Tupel 3: 4 chars<br>- Tupel 4: 4 chars <br>- Tupel 5: 12 chars <br>                            | - trailing 20 analog zu Auftrags_ID<br>- Primary Key, Foreign Key in Positionsdaten | - Tupel 3: 5 uniques<br>- Tupel 4: seltensten 5 Uniques sehr selten<br>- Tupel 5: ca. 4000x Ausnahmewerte (inhaltlich), sonst identisch                              |
| KvaRechnung_Nummer           | object  | 866651               | - KVR-X; X= 7 Zahlen                                                                                                                                                                       | - Nicht unique <br>- Wert wahrsch. aus Buchhaltung (gleicher Vorgang)               |                                                                                                                                                                      |
| Forderung_Netto              | float64 | N/A                  | Kommazahlen                                                                                                                                                                                | Geldbetrag (sollte sich aus Summe der P.-daten ergeben)                             | Wenn negativ, muss Empfehlung und Einigung ebenfalls negativ sein (Gutschrift o.ä.)                                                                                  |
| Empfehlung_Netto             | float64 | N/A                  | Kommazahlen                                                                                                                                                                                | Geldbetrag (sollte sich aus Summe der P.-daten ergeben)                             | Empfehlung muss = Einigung, kann aber durch Nutzung des Felds "Manueller Betrag" durch Belegprüfer → brauchen Spalte Manueller Betrag, nur plausibel wenn nicht leer |
| Einigung_Netto               | float64 | N/A                  | Kommazahlen                                                                                                                                                                                | Geldbetrag (sollte sich aus Summe der P.-daten ergeben)                             |                                                                                                                                                                      |
| DH_ID                        | int64   | 3+1                  | int                                                                                                                                                                                        | - Länderkennung <br>- 1 → DE<br>- 2 → AT<br>- 4 → CH                                | - viele Nullwerte in "Land" in verknüpfter Zeile                                                                                                                     |
| Land                         | object  | 3+1                  | 2-char String                                                                                                                                                                              | - Null-Value "-"<br>- Länderkennung (DE, CH, AT)                                    | - Null-Value "-"                                                                                                                                                     |
| PLZ_SO                       | object  |                      | PLZ (4/5-stellig, leading zeroes möglich)                                                                                                                                                  | Schadensort-PLZ                                                                     | - Viele Null<br>- Null-Value "-"                                                                                                                                     |
| PLZ_HW                       | object  |                      | PLZ                                                                                                                                                                                        | Handwerker-PLZ                                                                      | - Viele Null<br>- Null-Value "-"                                                                                                                                     |
| PLZ_VN                       | object  |                      | PLZ                                                                                                                                                                                        | Versicherungsnehmer-PLZ (?)                                                         | - Viele Null<br>- Null-Value "-"                                                                                                                                     |
| address1_postalcode          | object  |                      | PLZ                                                                                                                                                                                        | Rechnungsadresse HW PLZ (Fremddatenbank)                                            |                                                                                                                                                                      |
| Schadenart_Name              | object  | 22+1                 | String, Kategoriedaten                                                                                                                                                                     | Einordnung Schadenskategorie                                                        | - Null-Value "-",<br>- Tippfehler ("Betriebsunterbrechnung")                                                                                                         |
| Falltyp_Name                 | object  | 151+1                | String, Freiform                                                                                                                                                                           | Genauere Beschreibung des Schadens                                                  | - Null-Value "-"<br>- Tippfehler                                                                                                                                     |
| Gewerk_Name                  | object  | 63+1                 | String, Kategoriendaten                                                                                                                                                                    | Beschreibung Fachbereich Handwerker                                                 | - Null-Value "(leer)"<br>- Placeholder "Allgemeine Standardbeschreibungen"                                                                                           |
| Kundengruppe                 | object  | 153                  | String, Kategoriendaten                                                                                                                                                                    | Name des jeweiligen Versicherers                                                    | - Enthält Einträge für KI-Tests ("KI-Test" etc), insgesamt 597<br>                                                                                                   |
| Differenz_vor_Zeitwert_Netto | float64 |                      | Float                                                                                                                                                                                      | Geldbetrag, Differenz Forderung Einigung                                            |                                                                                                                                                                      |
| Handwerker_Name              | object  |                      | String                                                                                                                                                                                     | Firmennamen                                                                         |                                                                                                                                                                      |
## Positionsdaten.parquet

Spalten: 12
Zeilen: 6820858

| Spaltenname        | dtype   | Anzahl Unique Values | Beschreibung (Syntax)                                                                                                                                      | Beschreibung (Semantik)                                    | Anomalien                                                                                                         |
| ------------------ | ------- | -------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| KvaRechnung_ID     | object  |                      | - 32-char ID, 36-char mit Trennzeichen "-"<br>- Tupel 1: 8 chars<br>- Tupel 2: 4 chars<br>- Tupel 3: 4 chars<br>- Tupel 4: 4 chars <br>- Tupel 5: 12 chars |                                                            |                                                                                                                   |
| KvaRechnung_Nummer | object  |                      | - KVR-X; X= 7 Zahlen                                                                                                                                       |                                                            |                                                                                                                   |
| Position_ID        | object  |                      | - 32-char ID, 36-char mit Trennzeichen "-"<br>- Tupel 1: 8 chars<br>- Tupel 2: 4 chars<br>- Tupel 3: 4 chars<br>- Tupel 4: 4 chars <br>- Tupel 5: 12 chars |                                                            |                                                                                                                   |
| Mengeneinheit      | object  |                      | Kurzer String                                                                                                                                              | Beschreibt Art der Rechnungsposition<br>- "psch": pauschal | - Null-Value "(null)"<br>- Tipp/OCR-Fehler<br>- keine Konventionen                                                |
| Menge              | float64 |                      | Kommazahl                                                                                                                                                  | Verknüpft mit Mengeneinheit                                |                                                                                                                   |
| Menge_Einigung     | float64 |                      | Kommazahl                                                                                                                                                  | siehe Menge                                                |                                                                                                                   |
| EP                 | float64 |                      | Kommazahl                                                                                                                                                  | Geldbetrag                                                 |                                                                                                                   |
| EP_Einigung        | float64 |                      | Kommazahl                                                                                                                                                  | Geldbetrag                                                 |                                                                                                                   |
| Forderung_Netto    | float64 |                      | Kommazahl                                                                                                                                                  | Geldbetrag                                                 |                                                                                                                   |
| Einigung_Netto     | float64 |                      | Kommazahl                                                                                                                                                  | Geldbetrag                                                 |                                                                                                                   |
| Bezeichnung        | object  |                      | Fließtext                                                                                                                                                  | Beschreibung der Position                                  | - Abgeschnittene Einträge <br>- inkohärent<br>- mit Positionen im selbem Auftrag verknüpft<br>-kontextbezogen<br> |
| Bemerkung          | object  |                      | Fließtext                                                                                                                                                  | - Zusatzinformationen<br>- Händler-URLs                    | - Null-Value "-"<br>- extrem sparse                                                                               |


# Eigenschaften Soll-Daten

## Auftragsdaten_konvertiert


| Spaltenname                  | dtype    | Anzahl unique values | Beschreibung (Syntax)                                                                                                                                                                      | Beschreibung (Semantik)                                                   | Anomalien                                                                                                                               |
| ---------------------------- | -------- | -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- |
| Auftrags_ID                  | string   | 691084               | - 32-char ID, 36-char mit Trennzeichen "-" <br>- Tupel 1: 8 chars<br>- Tupel 2: 4 chars<br>- Tupel 3: 4 chars <br>- Tupel 4: 4 chars (letzten 3 Values sind selten)<br>- Tupel 5: 12 chars | Trailing 20 chars in 32 Ausführungen                                      | - Tupel 3: 4 uniques<br>- Tupel 4: seltensten 3 Uniques sehr selten<br>- Tupel 5: ca. 4000x Ausnahmewerte (inhaltlich), sonst identisch |
| Schadensnummer               | string   | 579566               | divers, alphanumerisch                                                                                                                                                                     | wahrscheinlich externe IDs                                                | Textdaten hinter einigen Einträgen                                                                                                      |
| KvaRechnung_ID               | string   | 868489               | - 32-char ID, 36-char mit Trennzeichen "-"<br>- Tupel 1: 8 chars<br>- Tupel 2: 4 chars<br>- Tupel 3: 4 chars<br>- Tupel 4: 4 chars <br>- Tupel 5: 12 chars                                 | trailing 20 analog zu Auftrags_ID                                         | - Tupel 3: 5 uniques<br>- Tupel 4: seltensten 5 Uniques sehr selten<br>- Tupel 5: ca. 4000x Ausnahmewerte (inhaltlich), sonst identisch |
| KvaRechnung_Nummer           | string   | 866651               | KVR-X<br>X= 7 Zahlen                                                                                                                                                                       | - Nicht unique <br>- Wert wahrsch. aus Buchhaltung (gleicher Vorgang)<br> |                                                                                                                                         |
| Forderung_Netto              | float32  | N/A                  | Kommazahlen                                                                                                                                                                                | Geldbetrag                                                                |                                                                                                                                         |
| Empfehlung_Netto             | float32  | N/A                  | Kommazahlen                                                                                                                                                                                | Geldbetrag                                                                |                                                                                                                                         |
| Einigung_Netto               | float32  | N/A                  | Kommazahlen                                                                                                                                                                                | Geldbetrag                                                                |                                                                                                                                         |
| DH_ID                        | int8     | 3                    | int                                                                                                                                                                                        | - Länderkennung <br>- 1 → DE<br>- 2 → AT<br>- 4 → CH                      | - viele Nullwerte in "Land" in verknüpfter Zeile                                                                                        |
| Land                         | category | 3+1                  | 2-char String                                                                                                                                                                              | Länderkennung (DE, CH, AT)                                                | Null-Value                                                                                                                              |
| PLZ_SO                       | category |                      | PLZ (4/5-stellig, leading zeroes möglich)                                                                                                                                                  | Schadensort-PLZ                                                           | Viele Null                                                                                                                              |
| PLZ_HW                       | category |                      | PLZ                                                                                                                                                                                        | Handwerker-PLZ                                                            | Viele Null                                                                                                                              |
| PLZ_VN                       | category |                      | PLZ                                                                                                                                                                                        | Versicherungsnehmer-PLZ (?)                                               | Viele Null                                                                                                                              |
| address1_postalcode          | category |                      | PLZ                                                                                                                                                                                        | Rechnungsadresse HW PLZ                                                   |                                                                                                                                         |
| Schadenart_Name              | category | 22+1                 | Kategoriedaten                                                                                                                                                                             | Einordnung Schadenskategorie                                              | Tippfehler ("Betriebsunterbrechnung")                                                                                                   |
| Falltyp_Name                 | category | 151+1                | String, Freiform                                                                                                                                                                           | Genauere Beschreibung des Schadens                                        | Tippfehler                                                                                                                              |
| Gewerk_Name                  | category | 63+1                 | Kategoriendaten                                                                                                                                                                            | Beschreibung Fachbereich Handwerker                                       | - Placeholder "Allgemeine Standardbeschreibungen"                                                                                       |
| Kundengruppe                 | category | 153                  | Kategoriendaten                                                                                                                                                                            | Name des jeweiligen Versicherers                                          | - Enthält Einträge für KI-Tests ("KI-Test" etc), insgesamt 597                                                                          |
| Differenz_vor_Zeitwert_Netto | float32  |                      | Float                                                                                                                                                                                      | - Geldbetrag <br>- Differenz zur Abschreibung des geschädigten Objekts    |                                                                                                                                         |
| Handwerker_Name              | category |                      | String                                                                                                                                                                                     | Firmennamen                                                               |                                                                                                                                         |

## Positionsdaten_konvertiert


| Spaltenname        | dtype    | Anzahl Unique Values | Beschreibung (Syntax)                                                                                                                                      | Beschreibung (Semantik)                                                                                                                                                                                                                                                                      | Anomalien                                                                                                         |
| ------------------ | -------- | -------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| KvaRechnung_ID     | category |                      | - 32-char ID, 36-char mit Trennzeichen "-"<br>- Tupel 1: 8 chars<br>- Tupel 2: 4 chars<br>- Tupel 3: 4 chars<br>- Tupel 4: 4 chars <br>- Tupel 5: 12 chars | - Tupel 1: unique<br>- Tupel 2: unique<br>- Tupel 3: 5 verschieden Werte (Alle im Millionenbereich, außer einer mit 42 Stück)<br>- Tupel 4: unique (letzten beiden Varianten haben drastisch weniger)<br>- Tupel 5: 2 verschiedene Werte (Einer davon ist deutlich weniger häufig (ca 7000)) |                                                                                                                   |
| KvaRechnung_Nummer | category |                      | - KVR-X; X= 7 Zahlen                                                                                                                                       |                                                                                                                                                                                                                                                                                              |                                                                                                                   |
| Position_ID        | string   |                      | - 32-char ID, 36-char mit Trennzeichen "-"<br>- Tupel 1: 8 chars<br>- Tupel 2: 4 chars<br>- Tupel 3: 4 chars<br>- Tupel 4: 4 chars <br>- Tupel 5: 12 chars | Tupel 1: unique<br>- Tupel 2: unique<br>- Tupel 3: 5 verschieden Werte (letzte ziemlich selten)<br>- Tupel 4: unique (letzten 5 Werte relativ selten)<br>- Tupel 5: 2 verschiedene Werte (Einer davon deutlich weniger häufig)                                                               |                                                                                                                   |
| Mengeneinheit      | category |                      | Kurzer String                                                                                                                                              | Beschreibt Art der Rechnungsposition<br>- "psch": pauschal                                                                                                                                                                                                                                   | - Tipp/OCR-Fehler<br>- keine Konventionen                                                                         |
| Menge              | float32  |                      | Kommazahl                                                                                                                                                  | Verknüpft mit Mengeneinheit                                                                                                                                                                                                                                                                  |                                                                                                                   |
| Menge_Einigung     | float32  |                      | Kommazahl                                                                                                                                                  | siehe Menge                                                                                                                                                                                                                                                                                  |                                                                                                                   |
| EP                 | float32  |                      | Kommazahl                                                                                                                                                  | Geldbetrag                                                                                                                                                                                                                                                                                   |                                                                                                                   |
| EP_Einigung        | float32  |                      | Kommazahl                                                                                                                                                  | Geldbetrag                                                                                                                                                                                                                                                                                   |                                                                                                                   |
| Forderung_Netto    | float32  |                      | Kommazahl                                                                                                                                                  | Geldbetrag                                                                                                                                                                                                                                                                                   |                                                                                                                   |
| Einigung_Netto     | float32  |                      | Kommazahl                                                                                                                                                  | Geldbetrag                                                                                                                                                                                                                                                                                   |                                                                                                                   |
| Bezeichnung        | string   |                      | Fließtext                                                                                                                                                  | Beschreibung der Position                                                                                                                                                                                                                                                                    | - Abgeschnittene Einträge <br>- inkohärent<br>- mit Positionen im selbem Auftrag verknüpft<br>-kontextbezogen<br> |
| Bemerkung          | category | 71+1                 | Fließtext                                                                                                                                                  | - Zusatzinformationen<br>- Händler-URLs                                                                                                                                                                                                                                                      | - extrem sparse                                                                                                   |


# Konsultationsfragen

## DH_id
**Ist die DH_id tatsächlich eine Länderkennung?**
Ja; 1,2,4 sind vergeben, 3 nicht (historisch bedingt)
## Bezeichnung
**Warum sind hier manche Einträge abgeschnitten? Warum wird nicht auf eine einheitliche Länge gekürzt?**
Historisch bedingt, Wechsel im System um ca. 2023 ergab truncated Einträge ab 165(?)
## KvaRechNr
**Es kommt mehrfach die selbe KvaRechNr für unterschiedliche IDs und Inhalt vor. Ist das eine extern festgelegte Nummer oder handelt es sich um einen Datenfehler?**


## Zeitverlauf
**Wie lässt sich am besten ein Zeitverlauf abbilden? Wäre ein Slicen nach einer aufsteigend geordneten ID sinnvoll (KvaRechNr)?**
bekommen zeitspalte nachgeschickt
